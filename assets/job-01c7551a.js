const y={executeAction:"[Espace] {action}",shoot:"Tirer",see:"Consulter",examine:"Examiner",seeTheRules:"Voir les règles"},m={jobChanged:"Vous êtes maintenant {job}",jobs:{archaeologist:"Archéologue",spy:"Espion"},myJobWallet:{label:"Portefeuille"}},v={makeExcavations:"Faire des fouilles"},f={findSecretPassage:"Chercher un passage secret"},h={playersList:"Liste des joueurs autour de moi",invite:"Inviter",accept:"Accepter",refuse:"Refuser",cancel:"Annuler",players:"Joueurs",connectToInvite:"Connectez-vous pour pouvoir inviter quelqu'un",notAuthenticated:"Non-authentifié",waitingForAnswer:"En attente de réponse. Veuillez patienter.",youAreGoingToBeRedirected:"Vous allez être redirigé vers le jeu",letSGo:"C'est parti !",close:"Fermer",playerIsNotAvailable:"Le joueur n'est pas disponible",youHaveBeenInvitedBy:"Vous avez été invité par "},j=Object.freeze(Object.defineProperty({__proto__:null,job:m,excavation:v,secretPassage:f,lobby:h},Symbol.toStringTag,{value:"Module"})),A={title:"Carte d'{job}",name:"Nom",close:"Fermer",jobs:{archaeologist:{name:"Archéologue",attributes:"Nom : {name}<br> Niveau: Avancé",description:"Félicitations, vous êtes désormais membre des archéologues en herbe. Nous certifions par la délivrance de la présente carte que vous pouvez :",permissions:{speakAncienLanguages:"Parler les anciens langages",readRunes:"Lire les runes",makeExcavation:"Faire des fouilles"}},spy:{name:"Espion",attributes:"Nom : {name}<br> Matricule: 007",description:"Agent spécial d'état. Spacialisé dans :",permissions:{useComputers:"le piratage informatique",findSecretPassages:"trouver et emprunter les passages secrets"}}}},W=Object.freeze(Object.defineProperty({__proto__:null,jobWallet:A},Symbol.toStringTag,{value:"Module"})),S=Object.freeze(Object.defineProperty({__proto__:null,utils:y,modules:j,views:W},Symbol.toStringTag,{value:"Module"})),P={executeAction:"[Space] {action}",shoot:"Shoot",see:"See",examine:"Examiner",seeTheRules:"See the rules"},k={jobChanged:"You are now a(n) {job}",jobs:{archaeologist:"Archaeologist",spy:"Spy"},myJobWallet:{label:"Wallet"}},C={makeExcavations:"Make excavations"},_={findSecretPassage:"Search a secret passage"},x={playersList:"Players around me",invite:"Invite",accept:"Accept",refuse:"Refuse",cancel:"Cancel",players:"Players",connectToInvite:"Log in to invite someone",notAuthenticated:"Not authenticated",waitingForAnswer:"Waiting for an answer. Please wait.",youAreGoingToBeRedirected:"You're going to be redirected to the game",letSGo:"Let's go !",close:"Close",playerIsNotAvailable:"Player is not available",youHaveBeenInvitedBy:"You have been invited by "},w=Object.freeze(Object.defineProperty({__proto__:null,job:k,excavation:C,secretPassage:_,lobby:x},Symbol.toStringTag,{value:"Module"})),J={title:"{job} card",name:"Name",close:"Close",jobs:{archaeologist:{name:"Archaeologist",attributes:"Name : {name}<br> Level: Advanced",description:"Congratulations, you are now a member of the Budding Archaeologists. We certify by the issuance of this card that you can :",permissions:{speakAncienLanguages:"Speak the old languages",readRunes:"Read the runes",makeExcavation:"Make excavation"}},spy:{name:"Spy",attributes:"Name : {name}<br> Registration number: 007",description:"Special state agent. Specialized in :",permissions:{useComputers:"computer hacking",findSecretPassages:"find and use the secret passages"}}}},L=Object.freeze(Object.defineProperty({__proto__:null,jobWallet:J},Symbol.toStringTag,{value:"Module"})),O=Object.freeze(Object.defineProperty({__proto__:null,utils:P,modules:w,views:L},Symbol.toStringTag,{value:"Module"})),p={"fr-FR":S,"en-US":O};let r="fr-FR";WA.onInit().then(()=>{r=WA.player.language,Object.keys(p).includes(r)||(r="en-US")});const R=(e,o={})=>{let n=e;const a=Object.keys(o);for(let t=0;t<a.length;t++)n=n.replaceAll("{"+a[t]+"}",o[a[t]]);return n},i=(e,o={})=>{const a=e.split(".").reduce((t,c)=>(!t||!t[c]?t=void 0:t=t[c],t),p[r]);return a&&typeof a=="string"?R(a,o):e},z="http://localhost:5173/",l={archaeologist:{useComputers:!1,speakAncienLanguages:!0,readRunes:!0,makeExcavation:!0,findSecretPassages:!1},spy:{useComputers:!0,speakAncienLanguages:!1,readRunes:!1,makeExcavation:!1,findSecretPassages:!0}},d="jobWalletButton";let s=null;const N=e=>{WA.player.state.job=e},B=()=>WA.player.state.job,F=async()=>{WA.controls.disablePlayerControls(),s=await WA.ui.website.open({url:`${z}/views/jobWallet/jobWallet.html`,allowApi:!0,allowPolicy:"",position:{vertical:"middle",horizontal:"middle"},size:{height:"50vh",width:"50vw"}}),WA.player.state.askForJobWalletWebsiteClose=!1},E=()=>{WA.player.state.askForJobWalletWebsiteClose=!0},g=()=>{s==null||s.close(),s=null,WA.controls.restorePlayerControls()},u=()=>{WA.ui.actionBar.addButton({id:d,label:i("modules.job.myJobWallet.label"),callback:async()=>{s?g():await F()}})},b=()=>{WA.ui.actionBar.removeButton(d)},T=()=>{WA.player.state.job?u():b(),WA.player.state.onVariableChange("job").subscribe(e=>{e?(console.log(i("modules.job.jobChanged",{job:i(`modules.job.jobs.${e}`)})),u()):b()}),WA.player.state.onVariableChange("askForJobWalletWebsiteClose").subscribe(e=>{e&&g()})},$=e=>WA.player.state.job&&l[WA.player.state.job][e],M=()=>WA.player.state.job&&l[WA.player.state.job]?Object.keys(l[WA.player.state.job]).filter(e=>l[WA.player.state.job][e]):null;export{M as a,E as b,$ as c,B as g,T as i,z as r,N as s,i as t};
