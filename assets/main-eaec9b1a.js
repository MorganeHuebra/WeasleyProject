const g={executeAction:"[Espace] {action}",shoot:"Tirer",see:"Consulter",examine:"Examiner",seeTheRules:"Voir les règles"},j={jobChanged:"Vous êtes maintenant {job}",jobs:{archaeologist:"Archéologue",spy:"Espion"},myJobWallet:{label:"Portefeuille"}},d=Object.freeze(Object.defineProperty({__proto__:null,job:j},Symbol.toStringTag,{value:"Module"})),y=Object.freeze(Object.defineProperty({__proto__:null,utils:g,modules:d},Symbol.toStringTag,{value:"Module"})),p={executeAction:"[Space] {action}",shoot:"Shoot",see:"See",examine:"Examiner",seeTheRules:"See the rules"},h={jobChanged:"You are now a(n) {job}",jobs:{archaeologist:"Archaeologist",spy:"Spy"},myJobWallet:{label:"Wallet"}},f=Object.freeze(Object.defineProperty({__proto__:null,job:h},Symbol.toStringTag,{value:"Module"})),m=Object.freeze(Object.defineProperty({__proto__:null,utils:p,modules:f},Symbol.toStringTag,{value:"Module"})),c={"fr-FR":y,"en-US":m};let s="fr-FR";WA.onInit().then(()=>{s=WA.player.language,Object.keys(c).includes(s)||(s="en-US")});const W=(e,l={})=>{let n=e;const t=Object.keys(l);for(let o=0;o<t.length;o++)n=n.replaceAll("{"+t[o]+"}",l[t[o]]);return n},a=(e,l={})=>{const t=e.split(".").reduce((o,r)=>(!o||!o[r]?o=void 0:o=o[r],o),c[s]);return t&&typeof t=="string"?W(t,l):e},u="jobWalletButton",S=e=>{WA.player.state.job=e},i=()=>{WA.ui.actionBar.addButton({id:u,label:a("modules.job.myJobWallet.label"),callback:e=>{console.log("OUVRIR LE WALLET",e)}})},b=()=>{WA.ui.actionBar.removeButton(u)},_=()=>{WA.player.state.job?i():b(),WA.player.state.onVariableChange("job").subscribe(e=>{e?(console.log(a("modules.job.jobChanged",{job:a(`modules.job.jobs.${e}`)})),i()):b()})};WA.onInit().then(()=>{_(),S("archaeologist")}).catch(e=>console.error(e));
