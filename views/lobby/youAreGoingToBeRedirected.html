<!DOCTYPE html>
<html lang="en">
<head>
    <title>Players list</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="robots" content="noindex">
    <meta name="title" content="Players list">

    <link rel="stylesheet" href="../main.css">

    <script src="https://play.workadventu.re/iframe_api.js"></script>
    <script lang="ts">
      window.addEventListener("DOMContentLoaded", () => {
        WA.onInit().then(async () => {
            const utils = await import('../../src/utils/index.js')

            const redirectionButton = document.getElementById('redirectionButton')
            const explanation = document.getElementById('explanation')

            explanation.innerHTML = utils.translations.translate('modules.lobby.youAreGoingToBeRedirected')

            redirectionButton.innerText = utils.translations.translate('modules.lobby.letSGo')
            redirectionButton.addEventListener("click", () => {
              // Go to page instead of go to room
              // --> The lobby can be used for many rooms
              // --> Pass the right url to this view --> variable ? link in get url ?
              WA.nav.goToPage('https://workadventu.re/map-building/entry-exit.md') // TODO : true url
            })
        })
      })
    </script>
</head>
    <body>
        <div class="bg-white p-2">
            <div class="text-align-center" id="explanation">
                Vous allez être redirigé vers le jeu
            </div>
            <div>
                <button
                        id="redirectionButton"
                        class="btn bg-info">
                </button>
            </div>
        </div>
    </body>
</html>