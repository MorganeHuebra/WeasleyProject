<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="robots" content="noindex">
    <meta name="title" content="My job wallet">

    <title>My job wallet</title>
    
    <script src="https://play.workadventu.re/iframe_api.js"></script>
    <script lang="ts">
      document.addEventListener("DOMContentLoaded", () => {
          WA.onInit().then(async () => {
              const {
                getDescription,
                getPermissions,
                getTitle,
                getAttributes,
                closeJobWalletWebsite,
                getCloseJobWalletWebsiteButtonText
              } = await import("data:video/mp2t;base64,Ly8vIDxyZWZlcmVuY2UgdHlwZXM9Ii4uLy4uL25vZGVfbW9kdWxlcy9Ad29ya2FkdmVudHVyZS9pZnJhbWUtYXBpLXR5cGluZ3MiIC8+CmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4uLy4uL3NyYy91dGlscy9pbmRleC5qcycKaW1wb3J0ICogYXMgbW9kdWxlcyBmcm9tICcuLi8uLi9zcmMvbW9kdWxlcy9pbmRleC5qcycKCmNvbnN0IGdldFRpdGxlID0gKCkgPT4gewogIHJldHVybiB1dGlscy50cmFuc2xhdGlvbnMudHJhbnNsYXRlKGB2aWV3cy5qb2JXYWxsZXQudGl0bGVgLCB7CiAgICBqb2I6IHV0aWxzLnRyYW5zbGF0aW9ucy50cmFuc2xhdGUoYHZpZXdzLmpvYldhbGxldC5qb2JzLiR7bW9kdWxlcy5qb2IuZ2V0UGxheWVySm9iKCl9Lm5hbWVgKQogIH0pCn0KCmNvbnN0IGdldEF0dHJpYnV0ZXMgPSAoKSA9PiB7CiAgcmV0dXJuIHV0aWxzLnRyYW5zbGF0aW9ucy50cmFuc2xhdGUoYHZpZXdzLmpvYldhbGxldC5qb2JzLiR7bW9kdWxlcy5qb2IuZ2V0UGxheWVySm9iKCl9LmF0dHJpYnV0ZXNgLCB7CiAgICBuYW1lOiBXQS5wbGF5ZXIubmFtZQogIH0pCn0KCmNvbnN0IGdldERlc2NyaXB0aW9uID0gKCkgPT4gewogIHJldHVybiB1dGlscy50cmFuc2xhdGlvbnMudHJhbnNsYXRlKGB2aWV3cy5qb2JXYWxsZXQuam9icy4ke21vZHVsZXMuam9iLmdldFBsYXllckpvYigpfS5kZXNjcmlwdGlvbmApCn0KCmNvbnN0IGdldFBlcm1pc3Npb25zID0gKCkgPT4gewogIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKQogIGNvbnN0IHBlcm1pc3Npb25zID0gbW9kdWxlcy5qb2IuZ2V0VXNlclBlcm1pc3Npb25zKCkKICBmb3IgKGxldCBpID0gMDsgaSA8IHBlcm1pc3Npb25zLmxlbmd0aDsgaSsrKSB7CiAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJykKICAgIGxpLmlubmVySFRNTCA9IHV0aWxzLnRyYW5zbGF0aW9ucy50cmFuc2xhdGUoCiAgICAgIGB2aWV3cy5qb2JXYWxsZXQuam9icy4ke21vZHVsZXMuam9iLmdldFBsYXllckpvYigpfS5wZXJtaXNzaW9ucy4ke3Blcm1pc3Npb25zW2ldfWAKICAgICkKICAgIHVsLmFwcGVuZENoaWxkKGxpKQogIH0KICByZXR1cm4gdWwKfQoKY29uc3QgZ2V0Q2xvc2VKb2JXYWxsZXRXZWJzaXRlQnV0dG9uVGV4dCA9ICgpID0+IHsKICByZXR1cm4gdXRpbHMudHJhbnNsYXRpb25zLnRyYW5zbGF0ZShgdmlld3Muam9iV2FsbGV0LmNsb3NlYCkKfQoKY29uc3QgY2xvc2VKb2JXYWxsZXRXZWJzaXRlID0gKCkgPT4gewogIG1vZHVsZXMuam9iLmFza0ZvckpvYldhbGxldFdlYnNpdGVDbG9zZSgpCn0KCmV4cG9ydCB7CiAgZ2V0VGl0bGUsCiAgZ2V0QXR0cmlidXRlcywKICBnZXREZXNjcmlwdGlvbiwKICBnZXRQZXJtaXNzaW9ucywKICBjbG9zZUpvYldhbGxldFdlYnNpdGUsCiAgZ2V0Q2xvc2VKb2JXYWxsZXRXZWJzaXRlQnV0dG9uVGV4dAp9")

              // Get html parts
              const photo = document.getElementById('photo')
              const title = document.getElementById('title')
              const attributes = document.getElementById('attributes')
              const description = document.getElementById('description')
              const permissions = document.getElementById('permissions')
              const closeWebsiteWalletButton = document.getElementById('closeWalletWebsiteButton')

              // User picture
              const woka = await WA.player.getWokaPicture()
              photo.setAttribute('src', woka)

              // Card title
              title.innerText = getTitle()

              // User attributes
              attributes.innerHTML = getAttributes()

              // User job description
              description.innerText = getDescription()

              // User job permissions
              permissions.appendChild(getPermissions())

              // Close button event
              closeWebsiteWalletButton.innerText = getCloseJobWalletWebsiteButtonText()
              closeWebsiteWalletButton.addEventListener("click", () => {
                closeJobWalletWebsite()
              })
          })
      })
    </script>
  <link rel="stylesheet" href="../../assets/main-461c278e.css">
</head>
    <body>
        <div style="background: white; border-radius: 20px; overflow: hidden; border: 2px black solid;">
            <div
                id="title"
                style="
                    background-color: red;
                    padding: 25px;
                    border-bottom: 2px black solid;
                    color: white;
                    font-weight: bold;"
            >
            </div>
            <div style="padding: 25px;">
                <div>
                    <table>
                        <tr>
                            <td>
                                <img id="photo" src="" width="50px" height="50px" alt="Ma photo" style="border: 1px black solid;">
                            </td>
                            <td id="attributes">
                            </td>
                        </tr>
                    </table>
                </div>
                <div>
                    <div id="description"></div>
                    <div id="permissions"></div>
                </div>
            </div>
            <div class="text-align-right m-2">
                <button class="btn bg-info" id="closeWalletWebsiteButton">
                    test
                </button>
            </div>
        </div>
    </body>
</html>